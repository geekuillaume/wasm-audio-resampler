"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
// const {promisify} = require('util');
const perf_hooks_1 = require("perf_hooks");
const path_1 = __importDefault(require("path"));
const index_1 = __importStar(require("./index"));
const assert = (condition, message) => {
    if (!condition) {
        throw new Error(message);
    }
};
const audioTestsDef = [
    // {inFile: path.resolve(__dirname, `../resources/24000hz_mono_test.pcm`), inRate: 24000, outRate: 48000, channels: 1},
    // {inFile: path.resolve(__dirname, `../resources/24000hz_mono_test.pcm`), inRate: 24000, outRate: 48000, channels: 1, quality: SoxrQuality.SOXR_LQ},
    // {inFile: path.resolve(__dirname, `../resources/24000hz_mono_test.pcm`), inRate: 24000, outRate: 48000, channels: 1, quality: SoxrQuality.SOXR_MQ},
    // {inFile: path.resolve(__dirname, `../resources/24000hz_test.pcm`), inRate: 24000, outRate: 24000, channels: 2},
    // {inFile: path.resolve(__dirname, `../resources/24000hz_test.pcm`), inRate: 24000, outRate: 44100, channels: 2},
    { inFile: path_1.default.resolve(__dirname, `../resources/44100hz_test.pcm`), inRate: 44100, outRate: 48000, channels: 2, quality: index_1.SoxrQuality.SOXR_LQ },
    { inFile: path_1.default.resolve(__dirname, `../resources/44100hz_test.pcm`), inRate: 44100, outRate: 48000, channels: 2, quality: index_1.SoxrQuality.SOXR_MQ },
    { inFile: path_1.default.resolve(__dirname, `../resources/44100hz_test.pcm`), inRate: 44100, outRate: 48000, channels: 2, quality: index_1.SoxrQuality.SOXR_HQ },
    { inFile: path_1.default.resolve(__dirname, `../resources/44100hz_test.pcm`), inRate: 44100, outRate: 48000, channels: 2, quality: index_1.SoxrQuality.SOXR_VHQ },
];
const audioTests = audioTestsDef.map((test) => ({
    ...test,
    pcmData: fs_1.readFileSync(test.inFile),
}));
const promiseBasedTest = async () => {
    for (const audioTest of audioTests) {
        console.log(`Resampling file ${audioTest.inFile} with ${audioTest.channels} channel(s) from ${audioTest.inRate}Hz to ${audioTest.outRate}Hz with quality ${audioTest.quality || 4}`);
        const resampler = new index_1.default(audioTest.channels, audioTest.inRate, audioTest.outRate, index_1.SoxrDatatype.SOXR_INT16, index_1.SoxrDatatype.SOXR_INT16, audioTest.quality);
        const filename = path_1.default.parse(audioTest.inFile).name;
        const start = perf_hooks_1.performance.now();
        const res = Buffer.concat([resampler.processChunk(audioTest.pcmData), resampler.processChunk(null)]);
        const end = perf_hooks_1.performance.now();
        console.log(`Resampled in ${Math.floor(end - start)}ms, factor ${(audioTest.pcmData.length / (audioTest.inRate / 1000) / 2 / audioTest.channels) / (end - start)}`);
        console.log(`Input stream: ${audioTest.pcmData.length} bytes, ${audioTest.pcmData.length / audioTest.inRate / 2 / audioTest.channels}s`);
        console.log(`Output stream: ${res.length} bytes, ${res.length / audioTest.outRate / 2 / audioTest.channels}s`);
        const inputDuration = audioTest.pcmData.length / audioTest.inRate / 2 / audioTest.channels;
        const outputDuration = res.length / audioTest.outRate / 2 / audioTest.channels;
        assert(Math.abs(inputDuration - outputDuration) < 0.01, `Stream duration not matching target, in: ${inputDuration}s != out:${outputDuration}`);
        console.log();
        // writeFileSync(path.resolve(__dirname, `../resources/${filename}_${audioTest.outRate}_${audioTest.quality || 7}_output.pcm`), res);
    }
};
const streamBasedTest = async () => {
    console.log('=================');
    console.log('Tranform Stream Test');
    console.log('=================');
    for (const audioTest of audioTests) {
        console.log(`Resampling file ${audioTest.inFile} with ${audioTest.channels} channel(s) from ${audioTest.inRate}Hz to ${audioTest.outRate}Hz with quality ${audioTest.quality || 4}`);
        const readFileStream = fs_1.createReadStream(audioTest.inFile);
        const transformStream = new index_1.SoxrResamplerTransform(audioTest.channels, audioTest.inRate, audioTest.outRate, index_1.SoxrDatatype.SOXR_INT16, index_1.SoxrDatatype.SOXR_INT16, audioTest.quality);
        let pcmData = Buffer.alloc(0);
        readFileStream.on('data', (d) => {
            pcmData = Buffer.concat([pcmData, d]);
        });
        let res = Buffer.alloc(0);
        transformStream.on('data', (d) => {
            res = Buffer.concat([res, d]);
        });
        const start = perf_hooks_1.performance.now();
        readFileStream.pipe(transformStream);
        await new Promise((r) => transformStream.on('end', r));
        const end = perf_hooks_1.performance.now();
        console.log(`Resampled in ${Math.floor(end - start)}ms, factor ${(pcmData.length / (audioTest.inRate / 1000) / 2 / audioTest.channels) / (end - start)}`);
        console.log(`Input stream: ${pcmData.length} bytes, ${pcmData.length / audioTest.inRate / 2 / audioTest.channels}s`);
        console.log(`Output stream: ${res.length} bytes, ${res.length / audioTest.outRate / 2 / audioTest.channels}s`);
        const inputDuration = pcmData.length / audioTest.inRate / 2 / audioTest.channels;
        const outputDuration = res.length / audioTest.outRate / 2 / audioTest.channels;
        assert(Math.abs(inputDuration - outputDuration) < 0.01, `Stream duration not matching target, in: ${inputDuration}s != out:${outputDuration}`);
        console.log();
    }
};
const smallChunksTest = async () => {
    console.log('=================');
    console.log('Small chunks Test');
    console.log('=================');
    for (const audioTest of audioTests) {
        const chunkSize = (audioTest.inRate / 100) * 2 * audioTest.channels; // simulate 100 chunks per seconds
        console.log(`Resampling file ${audioTest.inFile} with ${audioTest.channels} channel(s) from ${audioTest.inRate}Hz to ${audioTest.outRate}Hz with quality ${audioTest.quality || 4}`);
        const resampler = new index_1.default(audioTest.channels, audioTest.inRate, audioTest.outRate, index_1.SoxrDatatype.SOXR_INT16, index_1.SoxrDatatype.SOXR_INT16, audioTest.quality);
        const start = perf_hooks_1.performance.now();
        for (let i = 0; i * chunkSize < audioTest.pcmData.length; i++) {
            const chunk = audioTest.pcmData.slice(i * chunkSize, (i + 1) * chunkSize);
            const res = resampler.processChunk(chunk);
            // if (res.length !== (audioTest.outRate / 100) * 2 * audioTest.channels) {
            //   console.log('Diff length:', res.length);
            // }
        }
        const end = perf_hooks_1.performance.now();
        console.log(`Resampled in ${Math.floor(end - start)}ms, factor ${(audioTest.pcmData.length / (audioTest.inRate / 1000) / 2 / audioTest.channels) / (end - start)}`);
        console.log();
    }
};
const inBufferTest = async () => {
    console.log('=================');
    console.log('In buffer small chunks test');
    console.log('=================');
    const outputBuffer = new Uint8Array(2 * 1024 * 1024); // 2MB, should be enough for this test
    for (const audioTest of audioTests) {
        const chunkSize = (audioTest.inRate / 100) * 2 * audioTest.channels; // simulate 100 chunks per seconds
        console.log(`Resampling file ${audioTest.inFile} with ${audioTest.channels} channel(s) from ${audioTest.inRate}Hz to ${audioTest.outRate}Hz with quality ${audioTest.quality || 4}`);
        const resampler = new index_1.default(audioTest.channels, audioTest.inRate, audioTest.outRate, index_1.SoxrDatatype.SOXR_INT16, index_1.SoxrDatatype.SOXR_INT16, audioTest.quality);
        const start = perf_hooks_1.performance.now();
        for (let i = 0; i * chunkSize < audioTest.pcmData.length; i++) {
            const chunk = audioTest.pcmData.slice(i * chunkSize, (i + 1) * chunkSize);
            resampler.processChunkInOutputBuffer(chunk, outputBuffer);
        }
        const end = perf_hooks_1.performance.now();
        console.log(`Resampled in ${Math.floor(end - start)}ms, factor ${(audioTest.pcmData.length / (audioTest.inRate / 1000) / 2 / audioTest.channels) / (end - start)}`);
        console.log();
    }
};
const typeChangeTest = async () => {
    console.log('=================');
    console.log('Type change test');
    console.log('=================');
    for (const audioTest of audioTests) {
        console.log(`Resampling file ${audioTest.inFile} with ${audioTest.channels} channel(s) from ${audioTest.inRate}Hz to ${audioTest.outRate}Hz with quality ${audioTest.quality || 4}`);
        const resampler = new index_1.default(audioTest.channels, audioTest.inRate, audioTest.outRate, index_1.SoxrDatatype.SOXR_INT16, index_1.SoxrDatatype.SOXR_FLOAT32, audioTest.quality);
        const filename = path_1.default.parse(audioTest.inFile).name;
        const start = perf_hooks_1.performance.now();
        const res = Buffer.concat([resampler.processChunk(audioTest.pcmData), resampler.processChunk(null)]);
        const end = perf_hooks_1.performance.now();
        console.log(`Resampled in ${Math.floor(end - start)}ms, factor ${(audioTest.pcmData.length / (audioTest.inRate / 1000) / 2 / audioTest.channels) / (end - start)}`);
        console.log(`Input stream: ${audioTest.pcmData.length} bytes, ${audioTest.pcmData.length / audioTest.inRate / 2 / audioTest.channels}s`);
        console.log(`Output stream: ${res.length} bytes, ${res.length / audioTest.outRate / Float32Array.BYTES_PER_ELEMENT / audioTest.channels}s`);
        const inputDuration = audioTest.pcmData.length / audioTest.inRate / 2 / audioTest.channels;
        const outputDuration = res.length / audioTest.outRate / Float32Array.BYTES_PER_ELEMENT / audioTest.channels;
        assert(Math.abs(inputDuration - outputDuration) < 0.01, `Stream duration not matching target, in: ${inputDuration}s != out:${outputDuration}`);
        console.log();
        fs_1.writeFileSync(path_1.default.resolve(__dirname, `../resources/${filename}_${audioTest.outRate}_${audioTest.quality || 7}_output.pcm`), res);
    }
};
index_1.default.initPromise
    .then(() => promiseBasedTest())
    .then(() => streamBasedTest())
    .then(() => smallChunksTest())
    .then(() => inBufferTest())
    .then(() => typeChangeTest())
    .catch((e) => {
    console.error(e);
    process.exit(1);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5qcyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlcyI6WyJ0ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJCQUFnRTtBQUNoRSx1Q0FBdUM7QUFDdkMsMkNBQXdDO0FBQ3hDLGdEQUF3QjtBQUV4QixpREFBeUY7QUFFekYsTUFBTSxNQUFNLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDcEMsSUFBSSxDQUFDLFNBQVMsRUFBRTtRQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDMUI7QUFDSCxDQUFDLENBQUE7QUFFRCxNQUFNLGFBQWEsR0FBRztJQUNwQix1SEFBdUg7SUFDdkgscUpBQXFKO0lBQ3JKLHFKQUFxSjtJQUNySixrSEFBa0g7SUFDbEgsa0hBQWtIO0lBQ2xILEVBQUMsTUFBTSxFQUFFLGNBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLCtCQUErQixDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLG1CQUFXLENBQUMsT0FBTyxFQUFDO0lBQzVJLEVBQUMsTUFBTSxFQUFFLGNBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLCtCQUErQixDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLG1CQUFXLENBQUMsT0FBTyxFQUFDO0lBQzVJLEVBQUMsTUFBTSxFQUFFLGNBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLCtCQUErQixDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLG1CQUFXLENBQUMsT0FBTyxFQUFDO0lBQzVJLEVBQUMsTUFBTSxFQUFF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Q0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUMsaUJBQWlCLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQztRQUM1RyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQUcsY0FBYyxDQUFDLEdBQUcsSUFBSSxFQUFFLDRDQUE0QyxhQUFhLFlBQVksY0FBYyxFQUFFLENBQUMsQ0FBQztRQUMvSSxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDZCxrQkFBYSxDQUFDLGNBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLGdCQUFnQixRQUFRLElBQUksU0FBUyxDQUFDLE9BQU8sSUFBSSxTQUFTLENBQUMsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDbkk7QUFFSCxDQUFDLENBQUE7QUFFRCxlQUFhLENBQUMsV0FBVztLQUN4QixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztLQUM5QixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsZUFBZSxFQUFFLENBQUM7S0FDN0IsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDO0tBQzdCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztLQUMxQixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsY0FBYyxFQUFFLENBQUM7S0FDNUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDWCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEIsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3JlYWRGaWxlU3luYywgd3JpdGVGaWxlU3luYyxjcmVhdGVSZWFkU3RyZWFtfSBmcm9tICdmcyc7XG4vLyBjb25zdCB7cHJvbWlzaWZ5fSA9IHJlcXVpcmUoJ3V0aWwnKTtcbmltcG9ydCB7IHBlcmZvcm1hbmNlIH0gZnJvbSAncGVyZl9ob29rcydcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgU294clJlc2FtcGxlciwge1NveHJSZXNhbXBsZXJUcmFuc2Zvcm0sIFNveHJEYXRhdHlwZSwgU294clF1YWxpdHl9IGZyb20gJy4vaW5kZXgnO1xuXG5jb25zdCBhc3NlcnQgPSAoY29uZGl0aW9uLCBtZXNzYWdlKSA9PiB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5cbmNvbnN0IGF1ZGlvVGVzdHNEZWYgPSBbXG4gIC8vIHtpbkZpbGU6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIGAuLi9yZXNvdXJjZXMvMjQwMDBoel9tb25vX3Rlc3QucGNtYCksIGluUmF0ZTogMjQwMDAsIG91dFJhdGU6IDQ4MDAwLCBjaGFubmVsczogMX0sXG4gIC8vIHtpbkZpbGU6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIGAuLi9yZXNvdXJjZXMvMjQwMDBoel9tb25vX3Rlc3QucGNtYCksIGluUmF0ZTogMjQwMDAsIG91dFJhdGU6IDQ4MDAwLCBjaGFubmVsczogMSwgcXVhbGl0eTogU294clF1YWxpdHkuU09YUl9MUX0sXG4gIC8vIHtpbkZpbGU6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIGAuLi9yZXNvdXJjZXMvMjQwMDBoel9tb25vX3Rlc3QucGNtYCksIGluUmF0ZTogMjQwMDAsIG91dFJhdGU6IDQ4MDAwLCBjaGFubmVsczogMSwgcXVhbGl0eTogU294clF1YWxpdHkuU09YUl9NUX0sXG4gIC8vIHtpbkZpbGU6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIGAuLi9yZXNvdXJjZXMvMjQwMDBoel90ZXN0LnBjbWApLCBpblJhdGU6IDI0MDAwLCBvdXRSYXRlOiAyNDAwMCwgY2hhbm5lbHM6IDJ9LFxuICAvLyB7aW5GaWxlOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBgLi4vcmVzb3VyY2VzLzI0MDAwaHpfdGVzdC5wY21gKSwgaW5SYXRlOiAyNDAwMCwgb3V0UmF0ZTogNDQxMDAsIGNoYW5uZWxzOiAyfSxcbiAge2luRmlsZTogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgYC4uL3Jlc291cmNlcy80NDEwMGh6X3Rlc3QucGNtYCksIGluUmF0ZTogNDQxMDAsIG91dFJhdGU6IDQ4MDAwLCBjaGFubmVsczogMiwgcXVhbGl0eTogU294clF1YWxpdHkuU09YUl9MUX0sXG4gIHtpbkZpbGU6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIGAuLi9yZXNvdXJjZXMvNDQxMDBoel90ZXN0LnBjbWApLCBpblJhdGU6IDQ0MTAwLCBvdXRSYXRlOiA0ODAwMCwgY2hhbm5lbHM6IDIsIHF1YWxpdHk6IFNveHJRdWFsaXR5LlNPWFJfTVF9LFxuICB7aW5GaWxlOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBgLi4vcmVzb3VyY2VzLzQ0MTAwaHpfdGVzdC5wY21gKSwgaW5SYXRlOiA0NDEwMCwgb3V0UmF0ZTogNDgwMDAsIGNoYW5uZWxzOiAyLCBxdWFsaXR5OiBTb3hyUXVhbGl0eS5TT1hSX0hRfSxcbiAge2luRmlsZTogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgYC4uL3Jlc291cmNlcy80NDEwMGh6X3Rlc3QucGNtYCksIGluUmF0ZTogNDQxMDAsIG91dFJhdGU6IDQ4MDAwLCBjaGFubmVsczogMiwgcXVhbGl0eTogU294clF1YWxpdHkuU09YUl9WSFF9LFxuICAvLyB7aW5GaWxlOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBgLi4vcmVzb3VyY2VzLzQ0MTAwaHpfdGVzdC5wY21gKSwgaW5SYXRlOiA0NDEwMCwgb3V0UmF0ZTogMjQwMDAsIGNoYW5uZWxzOiAyfSxcbl07XG5jb25zdCBhdWRpb1Rlc3RzID0gYXVkaW9UZXN0c0RlZi5tYXAoKHRlc3QpID0+ICh7XG4gIC4uLnRlc3QsXG4gIHBjbURhdGE6IHJlYWRGaWxlU3luYyh0ZXN0LmluRmlsZSksXG59KSk7XG5cbmNvbnN0IHByb21pc2VCYXNlZFRlc3QgPSBhc3luYyAoKSA9PiB7XG4gIGZvciAoY29uc3QgYXVkaW9UZXN0IG9mIGF1ZGlvVGVzdHMpIHtcbiAgICBjb25zb2xlLmxvZyhgUmVzYW1wbGluZyBmaWxlICR7YXVkaW9UZXN0LmluRmlsZX0gd2l0aCAke2F1ZGlvVGVzdC5jaGFubmVsc30gY2hhbm5lbChzKSBmcm9tICR7YXVkaW9UZXN0LmluUmF0ZX1IeiB0byAke2F1ZGlvVGVzdC5vdXRSYXRlfUh6IHdpdGggcXVhbGl0eSAke2F1ZGlvVGVzdC5xdWFsaXR5IHx8IDR9YCk7XG4gICAgY29uc3QgcmVzYW1wbGVyID0gbmV3IFNveHJSZXNhbXBsZXIoXG4gICAgICBhdWRpb1Rlc3QuY2hhbm5lbHMsXG4gICAgICBhdWRpb1Rlc3QuaW5SYXRlLFxuICAgICAgYXVkaW9UZXN0Lm91dFJhdGUsXG4gICAgICBTb3hyRGF0YXR5cGUuU09YUl9JTlQxNixcbiAgICAgIFNveHJEYXRhdHlwZS5TT1hSX0lOVDE2LFxuICAgICAgYXVkaW9UZXN0LnF1YWxpdHksXG4gICAgKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IHBhdGgucGFyc2UoYXVkaW9UZXN0LmluRmlsZSkubmFtZTtcblxuICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgcmVzID0gQnVmZmVyLmNvbmNhdChbcmVzYW1wbGVyLnByb2Nlc3NDaHVuayhhdWRpb1Rlc3QucGNtRGF0YSksIHJlc2FtcGxlci5wcm9jZXNzQ2h1bmsobnVsbCldKTtcbiAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zb2xlLmxvZyhgUmVzYW1wbGVkIGluICR7TWF0aC5mbG9vcihlbmQgLSBzdGFydCl9bXMsIGZhY3RvciAkeyhhdWRpb1Rlc3QucGNtRGF0YS5sZW5ndGggLyAoYXVkaW9UZXN0LmluUmF0ZSAvIDEwMDApIC8gMiAvIGF1ZGlvVGVzdC5jaGFubmVscykgLyAoZW5kIC0gc3RhcnQpfWApO1xuICAgIGNvbnNvbGUubG9nKGBJbnB1dCBzdHJlYW06ICR7YXVkaW9UZXN0LnBjbURhdGEubGVuZ3RofSBieXRlcywgJHthdWRpb1Rlc3QucGNtRGF0YS5sZW5ndGggLyBhdWRpb1Rlc3QuaW5SYXRlIC8gMiAvIGF1ZGlvVGVzdC5jaGFubmVsc31zYCk7XG4gICAgY29uc29sZS5sb2coYE91dHB1dCBzdHJlYW06ICR7cmVzLmxlbmd0aH0gYnl0ZXMsICR7cmVzLmxlbmd0aCAvIGF1ZGlvVGVzdC5vdXRSYXRlIC8gMiAvIGF1ZGlvVGVzdC5jaGFubmVsc31zYCk7XG5cbiAgICBjb25zdCBpbnB1dER1cmF0aW9uID0gYXVkaW9UZXN0LnBjbURhdGEubGVuZ3RoIC8gYXVkaW9UZXN0LmluUmF0ZSAvIDIgLyBhdWRpb1Rlc3QuY2hhbm5lbHM7XG4gICAgY29uc3Qgb3V0cHV0RHVyYXRpb24gPSByZXMubGVuZ3RoIC8gYXVkaW9UZXN0Lm91dFJhdGUgLyAyIC8gYXVkaW9UZXN0LmNoYW5uZWxzO1xuICAgIGFzc2VydChNYXRoLmFicyhpbnB1dER1cmF0aW9uIC0gb3V0cHV0RHVyYXRpb24pIDwgMC4wMSwgYFN0cmVhbSBkdXJhdGlvbiBub3QgbWF0Y2hpbmcgdGFyZ2V0LCBpbjogJHtpbnB1dER1cmF0aW9ufXMgIT0gb3V0OiR7b3V0cHV0RHVyYXRpb259YCk7XG4gICAgY29uc29sZS5sb2coKTtcbiAgICAvLyB3cml0ZUZpbGVTeW5jKHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIGAuLi9yZXNvdXJjZXMvJHtmaWxlbmFtZX1fJHthdWRpb1Rlc3Qub3V0UmF0ZX1fJHthdWRpb1Rlc3QucXVhbGl0eSB8fCA3fV9vdXRwdXQucGNtYCksIHJlcyk7XG4gIH1cbn1cblxuY29uc3Qgc3RyZWFtQmFzZWRUZXN0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnPT09PT09PT09PT09PT09PT0nKTtcbiAgY29uc29sZS5sb2coJ1RyYW5mb3JtIFN0cmVhbSBUZXN0Jyk7XG4gIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PScpO1xuXG4gIGZvciAoY29uc3QgYXVkaW9UZXN0IG9mIGF1ZGlvVGVzdHMpIHtcbiAgICBjb25zb2xlLmxvZyhgUmVzYW1wbGluZyBmaWxlICR7YXVkaW9UZXN0LmluRmlsZX0gd2l0aCAke2F1ZGlvVGVzdC5jaGFubmVsc30gY2hhbm5lbChzKSBmcm9tICR7YXVkaW9UZXN0LmluUmF0ZX1IeiB0byAke2F1ZGlvVGVzdC5vdXRSYXRlfUh6IHdpdGggcXVhbGl0eSAke2F1ZGlvVGVzdC5xdWFsaXR5IHx8IDR9YCk7XG4gICAgY29uc3QgcmVhZEZpbGVTdHJlYW0gPSBjcmVhdGVSZWFkU3RyZWFtKGF1ZGlvVGVzdC5pbkZpbGUpO1xuICAgIGNvbnN0IHRyYW5zZm9ybVN0cmVhbSA9IG5ldyBTb3hyUmVzYW1wbGVyVHJhbnNmb3JtKFxuICAgICAgYXVkaW9UZXN0LmNoYW5uZWxzLFxuICAgICAgYXVkaW9UZXN0LmluUmF0ZSxcbiAgICAgIGF1ZGlvVGVzdC5vdXRSYXRlLFxuICAgICAgU294ckRhdGF0eXBlLlNPWFJfSU5UMTYsXG4gICAgICBTb3hyRGF0YXR5cGUuU09YUl9JTlQxNixcbiAgICAgIGF1ZGlvVGVzdC5xdWFsaXR5LFxuICAgICk7XG4gICAgbGV0IHBjbURhdGEgPSBCdWZmZXIuYWxsb2MoMCk7XG4gICAgcmVhZEZpbGVTdHJlYW0ub24oJ2RhdGEnLCAoZCkgPT4ge1xuICAgICAgcGNtRGF0YSA9IEJ1ZmZlci5jb25jYXQoWyBwY21EYXRhLCBkIGFzIEJ1ZmZlciBdKTtcbiAgICB9KTtcbiAgICBsZXQgcmVzID0gQnVmZmVyLmFsbG9jKDApO1xuICAgIHRyYW5zZm9ybVN0cmVhbS5vbignZGF0YScsIChkKSA9PiB7XG4gICAgICByZXMgPSBCdWZmZXIuY29uY2F0KFsgcmVzLCBkIGFzIEJ1ZmZlciBdKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgcmVhZEZpbGVTdHJlYW0ucGlwZSh0cmFuc2Zvcm1TdHJlYW0pO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKSA9PiB0cmFuc2Zvcm1TdHJlYW0ub24oJ2VuZCcsIHIpKTtcbiAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zb2xlLmxvZyhgUmVzYW1wbGVkIGluICR7TWF0aC5mbG9vcihlbmQgLSBzdGFydCl9bXMsIGZhY3RvciAkeyhwY21EYXRhLmxlbmd0aCAvIChhdWRpb1Rlc3QuaW5SYXRlIC8gMTAwMCkgLyAyIC8gYXVkaW9UZXN0LmNoYW5uZWxzKSAvIChlbmQgLSBzdGFydCl9YCk7XG4gICAgY29uc29sZS5sb2coYElucHV0IHN0cmVhbTogJHtwY21EYXRhLmxlbmd0aH0gYnl0ZXMsICR7cGNtRGF0YS5sZW5ndGggLyBhdWRpb1Rlc3QuaW5SYXRlIC8gMiAvIGF1ZGlvVGVzdC5jaGFubmVsc31zYCk7XG4gICAgY29uc29sZS5sb2coYE91dHB1dCBzdHJlYW06ICR7cmVzLmxlbmd0aH0gYnl0ZXMsICR7cmVzLmxlbmd0aCAvIGF1ZGlvVGVzdC5vdXRSYXRlIC8gMiAvIGF1ZGlvVGVzdC5jaGFubmVsc31zYCk7XG5cbiAgICBjb25zdCBpbnB1dER1cmF0aW9uID0gcGNtRGF0YS5sZW5ndGggLyBhdWRpb1Rlc3QuaW5SYXRlIC8gMiAvIGF1ZGlvVGVzdC5jaGFubmVscztcbiAgICBjb25zdCBvdXRwdXREdXJhdGlvbiA9IHJlcy5sZW5ndGggLyBhdWRpb1Rlc3Qub3V0UmF0ZSAvIDIgLyBhdWRpb1Rlc3QuY2hhbm5lbHM7XG4gICAgYXNzZXJ0KE1hdGguYWJzKGlucHV0RHVyYXRpb24gLSBvdXRwdXREdXJhdGlvbikgPCAwLjAxLCBgU3RyZWFtIGR1cmF0aW9uIG5vdCBtYXRjaGluZyB0YXJnZXQsIGluOiAke2lucHV0RHVyYXRpb259cyAhPSBvdXQ6JHtvdXRwdXREdXJhdGlvbn1gKTtcbiAgICBjb25zb2xlLmxvZygpO1xuICB9XG59XG5cbmNvbnN0IHNtYWxsQ2h1bmtzVGVzdCA9IGFzeW5jICgpID0+IHtcbiAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09Jyk7XG4gIGNvbnNvbGUubG9nKCdTbWFsbCBjaHVua3MgVGVzdCcpO1xuICBjb25zb2xlLmxvZygnPT09PT09PT09PT09PT09PT0nKTtcblxuICBmb3IgKGNvbnN0IGF1ZGlvVGVzdCBvZiBhdWRpb1Rlc3RzKSB7XG4gICAgY29uc3QgY2h1bmtTaXplID0gKGF1ZGlvVGVzdC5pblJhdGUgLyAxMDApICogMiAqIGF1ZGlvVGVzdC5jaGFubmVsczsgLy8gc2ltdWxhdGUgMTAwIGNodW5rcyBwZXIgc2Vjb25kc1xuICAgIGNvbnNvbGUubG9nKGBSZXNhbXBsaW5nIGZpbGUgJHthdWRpb1Rlc3QuaW5GaWxlfSB3aXRoICR7YXVkaW9UZXN0LmNoYW5uZWxzfSBjaGFubmVsKHMpIGZyb20gJHthdWRpb1Rlc3QuaW5SYXRlfUh6IHRvICR7YXVkaW9UZXN0Lm91dFJhdGV9SHogd2l0aCBxdWFsaXR5ICR7YXVkaW9UZXN0LnF1YWxpdHkgfHwgNH1gKTtcbiAgICBjb25zdCByZXNhbXBsZXIgPSBuZXcgU294clJlc2FtcGxlcihcbiAgICAgIGF1ZGlvVGVzdC5jaGFubmVscyxcbiAgICAgIGF1ZGlvVGVzdC5pblJhdGUsXG4gICAgICBhdWRpb1Rlc3Qub3V0UmF0ZSxcbiAgICAgIFNveHJEYXRhdHlwZS5TT1hSX0lOVDE2LFxuICAgICAgU294ckRhdGF0eXBlLlNPWFJfSU5UMTYsXG4gICAgICBhdWRpb1Rlc3QucXVhbGl0eSxcbiAgICApO1xuXG4gICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSAqIGNodW5rU2l6ZSA8IGF1ZGlvVGVzdC5wY21EYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaHVuayA9IGF1ZGlvVGVzdC5wY21EYXRhLnNsaWNlKGkgKiBjaHVua1NpemUsIChpICsgMSkgKiBjaHVua1NpemUpO1xuICAgICAgY29uc3QgcmVzID0gcmVzYW1wbGVyLnByb2Nlc3NDaHVuayhjaHVuayk7XG4gICAgICAvLyBpZiAocmVzLmxlbmd0aCAhPT0gKGF1ZGlvVGVzdC5vdXRSYXRlIC8gMTAwKSAqIDIgKiBhdWRpb1Rlc3QuY2hhbm5lbHMpIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coJ0RpZmYgbGVuZ3RoOicsIHJlcy5sZW5ndGgpO1xuICAgICAgLy8gfVxuICAgIH1cbiAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIGNvbnNvbGUubG9nKGBSZXNhbXBsZWQgaW4gJHtNYXRoLmZsb29yKGVuZCAtIHN0YXJ0KX1tcywgZmFjdG9yICR7KGF1ZGlvVGVzdC5wY21EYXRhLmxlbmd0aCAvIChhdWRpb1Rlc3QuaW5SYXRlIC8gMTAwMCkgLyAyIC8gYXVkaW9UZXN0LmNoYW5uZWxzKSAvIChlbmQgLSBzdGFydCl9YCk7XG5cbiAgICBjb25zb2xlLmxvZygpO1xuICB9XG59XG5cbmNvbnN0IGluQnVmZmVyVGVzdCA9IGFzeW5jICgpID0+IHtcbiAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09Jyk7XG4gIGNvbnNvbGUubG9nKCdJbiBidWZmZXIgc21hbGwgY2h1bmtzIHRlc3QnKTtcbiAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09Jyk7XG5cbiAgY29uc3Qgb3V0cHV0QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMiAqIDEwMjQgKiAxMDI0KTsgLy8gMk1CLCBzaG91bGQgYmUgZW5vdWdoIGZvciB0aGlzIHRlc3RcblxuICBmb3IgKGNvbnN0IGF1ZGlvVGVzdCBvZiBhdWRpb1Rlc3RzKSB7XG4gICAgY29uc3QgY2h1bmtTaXplID0gKGF1ZGlvVGVzdC5pblJhdGUgLyAxMDApICogMiAqIGF1ZGlvVGVzdC5jaGFubmVsczsgLy8gc2ltdWxhdGUgMTAwIGNodW5rcyBwZXIgc2Vjb25kc1xuICAgIGNvbnNvbGUubG9nKGBSZXNhbXBsaW5nIGZpbGUgJHthdWRpb1Rlc3QuaW5GaWxlfSB3aXRoICR7YXVkaW9UZXN0LmNoYW5uZWxzfSBjaGFubmVsKHMpIGZyb20gJHthdWRpb1Rlc3QuaW5SYXRlfUh6IHRvICR7YXVkaW9UZXN0Lm91dFJhdGV9SHogd2l0aCBxdWFsaXR5ICR7YXVkaW9UZXN0LnF1YWxpdHkgfHwgNH1gKTtcbiAgICBjb25zdCByZXNhbXBsZXIgPSBuZXcgU294clJlc2FtcGxlcihcbiAgICAgIGF1ZGlvVGVzdC5jaGFubmVscyxcbiAgICAgIGF1ZGlvVGVzdC5pblJhdGUsXG4gICAgICBhdWRpb1Rlc3Qub3V0UmF0ZSxcbiAgICAgIFNveHJEYXRhdHlwZS5TT1hSX0lOVDE2LFxuICAgICAgU294ckRhdGF0eXBlLlNPWFJfSU5UMTYsXG4gICAgICBhdWRpb1Rlc3QucXVhbGl0eSxcbiAgICApO1xuXG4gICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSAqIGNodW5rU2l6ZSA8IGF1ZGlvVGVzdC5wY21EYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaHVuayA9IGF1ZGlvVGVzdC5wY21EYXRhLnNsaWNlKGkgKiBjaHVua1NpemUsIChpICsgMSkgKiBjaHVua1NpemUpO1xuICAgICAgcmVzYW1wbGVyLnByb2Nlc3NDaHVua0luT3V0cHV0QnVmZmVyKGNodW5rLCBvdXRwdXRCdWZmZXIpO1xuICAgIH1cbiAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIGNvbnNvbGUubG9nKGBSZXNhbXBsZWQgaW4gJHtNYXRoLmZsb29yKGVuZCAtIHN0YXJ0KX1tcywgZmFjdG9yICR7KGF1ZGlvVGVzdC5wY21EYXRhLmxlbmd0aCAvIChhdWRpb1Rlc3QuaW5SYXRlIC8gMTAwMCkgLyAyIC8gYXVkaW9UZXN0LmNoYW5uZWxzKSAvIChlbmQgLSBzdGFydCl9YCk7XG5cbiAgICBjb25zb2xlLmxvZygpO1xuICB9XG59XG5cbmNvbnN0IHR5cGVDaGFuZ2VUZXN0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnPT09PT09PT09PT09PT09PT0nKTtcbiAgY29uc29sZS5sb2coJ1R5cGUgY2hhbmdlIHRlc3QnKTtcbiAgY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09Jyk7XG5cbiAgZm9yIChjb25zdCBhdWRpb1Rlc3Qgb2YgYXVkaW9UZXN0cykge1xuICAgIGNvbnNvbGUubG9nKGBSZXNhbXBsaW5nIGZpbGUgJHthdWRpb1Rlc3QuaW5GaWxlfSB3aXRoICR7YXVkaW9UZXN0LmNoYW5uZWxzfSBjaGFubmVsKHMpIGZyb20gJHthdWRpb1Rlc3QuaW5SYXRlfUh6IHRvICR7YXVkaW9UZXN0Lm91dFJhdGV9SHogd2l0aCBxdWFsaXR5ICR7YXVkaW9UZXN0LnF1YWxpdHkgfHwgNH1gKTtcbiAgICBjb25zdCByZXNhbXBsZXIgPSBuZXcgU294clJlc2FtcGxlcihcbiAgICAgIGF1ZGlvVGVzdC5jaGFubmVscyxcbiAgICAgIGF1ZGlvVGVzdC5pblJhdGUsXG4gICAgICBhdWRpb1Rlc3Qub3V0UmF0ZSxcbiAgICAgIFNveHJEYXRhdHlwZS5TT1hSX0lOVDE2LFxuICAgICAgU294ckRhdGF0eXBlLlNPWFJfRkxPQVQzMixcbiAgICAgIGF1ZGlvVGVzdC5xdWFsaXR5LFxuICAgICk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBwYXRoLnBhcnNlKGF1ZGlvVGVzdC5pbkZpbGUpLm5hbWU7XG5cbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IHJlcyA9IEJ1ZmZlci5jb25jYXQoW3Jlc2FtcGxlci5wcm9jZXNzQ2h1bmsoYXVkaW9UZXN0LnBjbURhdGEpLCByZXNhbXBsZXIucHJvY2Vzc0NodW5rKG51bGwpXSk7XG4gICAgY29uc3QgZW5kID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc29sZS5sb2coYFJlc2FtcGxlZCBpbiAke01hdGguZmxvb3IoZW5kIC0gc3RhcnQpfW1zLCBmYWN0b3IgJHsoYXVkaW9UZXN0LnBjbURhdGEubGVuZ3RoIC8gKGF1ZGlvVGVzdC5pblJhdGUgLyAxMDAwKSAvIDIgLyBhdWRpb1Rlc3QuY2hhbm5lbHMpIC8gKGVuZCAtIHN0YXJ0KX1gKTtcbiAgICBjb25zb2xlLmxvZyhgSW5wdXQgc3RyZWFtOiAke2F1ZGlvVGVzdC5wY21EYXRhLmxlbmd0aH0gYnl0ZXMsICR7YXVkaW9UZXN0LnBjbURhdGEubGVuZ3RoIC8gYXVkaW9UZXN0LmluUmF0ZSAvIDIgLyBhdWRpb1Rlc3QuY2hhbm5lbHN9c2ApO1xuICAgIGNvbnNvbGUubG9nKGBPdXRwdXQgc3RyZWFtOiAke3Jlcy5sZW5ndGh9IGJ5dGVzLCAke3Jlcy5sZW5ndGggLyBhdWRpb1Rlc3Qub3V0UmF0ZSAvIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCAvIGF1ZGlvVGVzdC5jaGFubmVsc31zYCk7XG5cbiAgICBjb25zdCBpbnB1dER1cmF0aW9uID0gYXVkaW9UZXN0LnBjbURhdGEubGVuZ3RoIC8gYXVkaW9UZXN0LmluUmF0ZSAvIDIgLyBhdWRpb1Rlc3QuY2hhbm5lbHM7XG4gICAgY29uc3Qgb3V0cHV0RHVyYXRpb24gPSByZXMubGVuZ3RoIC8gYXVkaW9UZXN0Lm91dFJhdGUgLyBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQgLyBhdWRpb1Rlc3QuY2hhbm5lbHM7XG4gICAgYXNzZXJ0KE1hdGguYWJzKGlucHV0RHVyYXRpb24gLSBvdXRwdXREdXJhdGlvbikgPCAwLjAxLCBgU3RyZWFtIGR1cmF0aW9uIG5vdCBtYXRjaGluZyB0YXJnZXQsIGluOiAke2lucHV0RHVyYXRpb259cyAhPSBvdXQ6JHtvdXRwdXREdXJhdGlvbn1gKTtcbiAgICBjb25zb2xlLmxvZygpO1xuICAgIHdyaXRlRmlsZVN5bmMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgYC4uL3Jlc291cmNlcy8ke2ZpbGVuYW1lfV8ke2F1ZGlvVGVzdC5vdXRSYXRlfV8ke2F1ZGlvVGVzdC5xdWFsaXR5IHx8IDd9X291dHB1dC5wY21gKSwgcmVzKTtcbiAgfVxuXG59XG5cblNveHJSZXNhbXBsZXIuaW5pdFByb21pc2Vcbi50aGVuKCgpID0+IHByb21pc2VCYXNlZFRlc3QoKSlcbi50aGVuKCgpID0+IHN0cmVhbUJhc2VkVGVzdCgpKVxuLnRoZW4oKCkgPT4gc21hbGxDaHVua3NUZXN0KCkpXG4udGhlbigoKSA9PiBpbkJ1ZmZlclRlc3QoKSlcbi50aGVuKCgpID0+IHR5cGVDaGFuZ2VUZXN0KCkpXG4uY2F0Y2goKGUpID0+IHtcbiAgY29uc29sZS5lcnJvcihlKTtcbiAgcHJvY2Vzcy5leGl0KDEpO1xufSlcbiJdfQ==